{{#layout}}
  <h2>Sign up</h2>
  <form method="POST">
    <label for="email">Email:</label>
    <input name="email" type="email" required />
    <div id="card-element"></div>
    <div id="card-errors" role="alert"></div>
    <button>Sign up</button>
  </form>
  <script src="https://js.stripe.com/v3/"></script>
  <script>
    const stripe = new Stripe('{{stripePublicKey}}')
    const elements = stripe.elements()
    const card = elements.create('card')
    card.addEventListener('change', ({ error }) => {
      document
        .getElementById('card-errors')
        .textContent = error ? error.message : ''
    })
    card.mount('#card-element')
  </script>
{{/layout}}
